# 学术文献管理系统

一个用于管理学术文献、笔记和知识图谱的系统。

## 项目结构

- `backend/`: 后端代码 (FastAPI)
- `frontend/`: 前端代码 (React)

## 安装与运行

### 后端

1. 进入后端目录：
```
cd backend
```

2. 安装依赖：
```
pip install -r requirements.txt
```

3. 启动后端服务器：
```
python run.py
```

后端服务将在 http://localhost:8000 上运行。API文档可在 http://localhost:8000/docs 访问。

### 前端

1. 进入前端目录：
```
cd frontend
```

2. 安装依赖：
```
npm install
```

3. 启动开发服务器：
```
npm start
```

前端应用将在 http://localhost:3000 上运行。

## 注意事项

- 请确保先启动后端服务再启动前端应用。
- 如果遇到权限问题，请确保您有适当的权限运行这些命令。
- 在Windows系统上，可能需要使用`python`而不是`python3`.

## 功能特点

- 文献管理：支持PDF导入、DOI查询、元数据提取
- 知识图谱：自动构建文献关系网络，可视化知识关联
- 笔记系统：支持PDF标注、结构化笔记、思维导图
- 智能推荐：基于内容的文献推荐，研究路径规划
- Sci-Hub集成：支持通过DOI快速获取文献
- 主题切换：支持浅色/深色/跟随系统三种模式
- 多语言支持：支持中文和英文界面切换

## 技术栈

### 后端
- Python 3.8+
- FastAPI
- SQLAlchemy
- NLTK/spaCy
- NetworkX
- PDF.js

### 前端
- React 18
- TypeScript
- Ant Design
- D3.js/ECharts
- React Router

## 使用说明

1. 访问 http://localhost:3000 打开前端界面
2. 通过DOI或PDF文件导入文献
3. 使用笔记系统进行文献标注和整理
4. 查看知识图谱了解文献关联
5. 获取个性化推荐
6. 在设置页面可以切换主题和语言

## 主题和语言切换功能

本系统实现了主题（深色/浅色模式）和语言（中英文）切换功能。

### 实现方式

- **主题切换**：使用React Context API管理主题状态，通过设置`data-theme`属性和Ant Design的`ConfigProvider`动态应用主题样式。
- **语言切换**：使用Ant Design的国际化支持，通过`ConfigProvider`的`locale`属性动态切换界面语言。

### 注意事项

1. **组件开发时的主题适配**：
   - 所有自定义组件在开发时需要考虑深色模式适配
   - 不要使用固定的颜色值，而应使用CSS变量或主题对象中的颜色
   - 使用`[data-theme="dark"]`选择器为深色模式定义样式

2. **文本国际化**：
   - 所有UI文本应使用`getTranslation(中文, 英文)`函数包装
   - 不要硬编码中文或英文文本
   - 在组件中通过`useSettings()`钩子获取当前语言

3. **已知问题与改进**：
   - 在修改或扩展UI组件时，需测试其在两种主题和两种语言下的表现
   - Header组件和下拉菜单需特别注意颜色对比度，确保文本在深色模式下可读
   - 某些第三方组件可能需要额外样式覆盖以适应深色模式

4. **样式覆盖**：
   - 深色模式的样式在`App.css`中通过`[data-theme="dark"]`选择器定义
   - 添加新组件时应在此添加对应的深色模式样式

## 开发计划

- [x] 基础框架搭建
- [x] 数据库设计
- [x] 主题和语言切换功能
- [ ] 文献导入功能
- [ ] 知识图谱构建
- [ ] 笔记系统
- [ ] 推荐系统
- [ ] 用户界面优化

## 贡献指南

1. Fork 项目
2. 创建特性分支
3. 提交更改
4. 推送到分支
5. 创建 Pull Request

## 许可证

MIT License 